<div class='text-right'>
  <button (click)='openAddKeyDialog()' mat-button class='default-btn'>Dodaj</button>
</div>
<button style='font-weight: bold' (click)='loadKeySubCategories()' color='primary' mat-button>
  <mat-icon>keyboard_backspace</mat-icon>
  Nazad
</button>
<div class='container mt-4'>
  <mat-spinner diameter='25' #spinner></mat-spinner>
  <h5 style='font-weight: bold;color: #ff5454'>{{keyBehaviorService.getIdKeySubCategory().name}}</h5>
  <h5>Ukupno: {{listOfKeys.length}}</h5>
  <form [formGroup]='searchForm'>
    <mat-form-field class='w-100' appearance='standard'>
      <mat-label>Pretra≈æi</mat-label>
      <input matInput [(ngModel)]='searchText' formControlName='search'>
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
  </form>
  <div class='row'>
    <div class='col-sm-4 text-center' *ngFor='let key of listOfKeys|key:searchText'>
      <div class='card-content' (click)='openKeyOverviewDialog(key)'>
        <img class='img-fluid' *ngIf='!key.idKeyImage' width='200px' src='assets/img/logo.png'>
        <img class='img-fluid' *ngIf='key.idKeyImage' width='200px' [src]='key.idKeyImage.url'>
        <h5>{{key.idKeyBrand.name}}</h5>
        <h5>{{key.carBrands|bindCarBrands}}</h5>
        <h5 class='code'>{{key.code}}</h5>
        <h4>{{(key.idCurrentPrice.price|number) + 'din'}}</h4>
      </div>
      <button mat-icon-button color='accent' (click)='openEditKeyDialog(key)'>
        <mat-icon>create</mat-icon>
      </button>
      <button (click)='deleteKey(key.id)' mat-icon-button color='primary'>
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>
</div>
