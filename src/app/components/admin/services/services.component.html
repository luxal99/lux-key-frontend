<div class='component'>
  <div class='text-right'>
    <button [matMenuTriggerFor]='menu' class='default-btn' mat-button>Dodaj</button>
    <mat-menu #menu='matMenu'>
      <button (click)='openAddServiceDialog()' mat-menu-item>Servis kljuc</button>
      <button (click)='openAddKeySubCategoryDialog()' mat-menu-item>Usluga</button>
    </mat-menu>
  </div>
  <mat-tab-group>
    <mat-tab label='Nedeljni pregled'>
      <mat-spinner #spinner diameter='25'></mat-spinner>
      <div class='tab-content'>
        <app-service-table-binding (cb)='getServicesInCurrentWeek()'
                                   [list]='listOfCurrentWeekServices'></app-service-table-binding>
        <div class='text-right'>
          <h5>Ukupno: <b>{{listOfCurrentWeekServices | sumGross}}</b></h5>
        </div>

      </div>
    </mat-tab>
    <mat-tab label='Opšti pregled'>
      <div class='tab-content'>
        <form [formGroup]='dateRangeForm'>
          <mat-form-field appearance='outline' class='example-form-field'>
            <mat-label>Željeni datumi</mat-label>
            <mat-date-range-input [rangePicker]='rangePicker'>
              <input formControlName='startDate' matStartDate placeholder='Start date'>
              <input formControlName='endDate' matEndDate placeholder='End date'>
            </mat-date-range-input>
            <mat-datepicker-toggle [for]='rangePicker' matSuffix></mat-datepicker-toggle>
            <mat-date-range-picker #rangePicker>
              <mat-date-range-picker-actions>
                <button (click)='getServicesFromRange()' class='red-border-btn' mat-button
                        matDateRangePickerApply
                        style='width: 100%;'>
                  Filtriraj
                </button>
              </mat-date-range-picker-actions>
            </mat-date-range-picker>
          </mat-form-field>
        </form>
        <mat-spinner #periodSpinner diameter='25' style='margin: 2em auto'></mat-spinner>
        <app-service-table-binding [list]='listOfDateRangeServices'></app-service-table-binding>

        <div class='text-right'>
          <h5>Ukupno: <b>{{listOfDateRangeServices | sumGross}}</b></h5>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
